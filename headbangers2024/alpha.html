<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PM7ZMMTJG2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-PM7ZMMTJG2');
    </script>
    <link rel="stylesheet" href="style.css">
    
    <title>70k 2024 Alpha</title>
    <script id='scheduleDay1' type='text'>
Equilibrium,            RT, Jan, 29, 6:00, PM, Jan, 29, 6:45, PM
Kataklysm,              RT, Jan, 29, 7:30, PM, Jan, 29, 8:30, PM
Halo Effect,            RT, Jan, 29, 9:15, PM, Jan, 29, 10:15, PM
Blind Guardian,         RT, Jan, 29, 11:15, PM, Jan, 30, 12:30, AM
Leaves' Eyes,           RT, Jan, 30, 1:30, AM, Jan, 30, 2:15, AM
Dalriada,               RT, Jan, 30, 3:00, AM, Jan, 30, 3:45, AM
Vision Divine,          RT, Jan, 30, 4:30, AM, Jan, 30, 5:15, AM
Heidevolk,              SB, Jan, 29, 5:15, PM, Jan, 29, 6:00, PM
Waltari,                SB, Jan, 29, 6:45, PM, Jan, 29, 7:30, PM
Einherjer,              SB, Jan, 29, 8:15, PM, Jan, 29, 9:00, PM
Warkings,               SB, Jan, 29, 9:45, PM, Jan, 29, 10:30, PM
Aborted,                SB, Jan, 29, 11:15, PM, Jan, 30, 12:00, AM
Fleshgod Apocalypse,    SB, Jan, 30, 12:45, AM, Jan, 30, 1:30, AM
Pentagram Chile,        SB, Jan, 30, 2:15, AM, Jan, 30, 3:00, AM
Avulsed,                SB, Jan, 30, 3:45, AM, Jan, 30, 4:30, AM
Carnation,              SB, Jan, 30, 5:15, AM, Jan, 30, 6:00, AM
Infected Rain,          SL, Jan, 29, 5:15, PM, Jan, 29, 6:00, PM
Crypta,                 SL, Jan, 29, 6:45, PM, Jan, 29, 7:30, PM
Temperance,             SL, Jan, 29, 8:15, PM, Jan, 29, 9:00, PM
SAOR,                   SL, Jan, 29, 9:45, PM, Jan, 29, 10:30, PM
ACOD,                   SL, Jan, 30, 12:45, AM, Jan, 30, 1:30, AM
Skyforger,              SL, Jan, 30, 2:15, AM, Jan, 30, 3:00, AM
Left-ovr,               SL, Jan, 30, 3:45, AM, Jan, 30, 4:30, AM
Karaoke AT PLAYER- MAKERS DECK 4, PD, Jan, 30, 12:00, AM, Jan, 30, 5:00, AM
    </script>
    <script id='scheduleDay2' type='text'>
Nanowar of Steel,           PD, Jan, 30, 10:00, AM, Jan, 30, 10:45, AM
Lich King,                  PD, Jan, 30, 11:30, AM, Jan, 30, 12:15, PM
Scar Symmetry,              PD, Jan, 30,  1:00, PM, Jan, 30,  1:45, PM
Victory,                    PD, Jan, 30,  2:30, PM, Jan, 30,  3:15, PM
Omnium Gatherum,            PD, Jan, 30,  4:00, PM, Jan, 30,  5:00, PM
Unleashed,                  PD, Jan, 30,  6:00, PM, Jan, 30,  7:00, PM
My Dying Bride,             PD, Jan, 30,  8:00, PM, Jan, 30,  9:00, PM
Epica,                      PD, Jan, 30, 10:00, PM, Jan, 30, 11:15, PM
Sodom,                      PD, Jan, 31, 12:15, AM, Jan, 31,  1:15, AM
Wind Rose,                  PD, Jan, 31,  2:00, AM, Jan, 31,  2:45, AM
Wolfheart,                  PD, Jan, 31,  3:30, AM, Jan, 31,  4:15, AM
Before the Dawn,            PD, Jan, 31,  5:00, AM, Jan, 31,  5:45, AM
Rising Steel,               RT, Jan, 30, 10:45, AM, Jan, 30, 11:30, AM
Tygers of Pan Tang,         RT, Jan, 30, 12:15, PM, Jan, 30,  1:00, PM
Arion,                      RT, Jan, 30,  1:45, PM, Jan, 30,  2:30, PM
Threshold,                  RT, Jan, 30,  3:15, PM, Jan, 30,  4:00, PM
Grave Digger,               RT, Jan, 30,  5:00, PM, Jan, 30,  6:00, PM
Angra,                      RT, Jan, 30,  7:00, PM, Jan, 30,  8:00, PM
Batushka,                   RT, Jan, 30,  9:00, PM, Jan, 30, 10:00, PM
Ktatonia,                   RT, Jan, 30, 11:15, PM, Jan, 31, 12:15, AM
Dynazty,                    RT, Jan, 31,  1:15, AM, Jan, 31,  2:00, AM
Mystic Prophecy,            RT, Jan, 31,  2:45, AM, Jan, 31,  3:30, AM
Noturnall,                  SB, Jan, 30,  11:30, AM, Jan, 30,  12:15, PM
April Art,                  SB, Jan, 30,   1:00, PM, Jan, 30,   1:45, PM
I am the Night,             SB, Jan, 30,   2:30, PM, Jan, 30,   3:15, PM
Nervosa,                    SB, Jan, 30,   4:15, PM, Jan, 30,   5:00, PM
Disillusion,                SB, Jan, 30,   6:00, PM, Jan, 30,   6:45, PM
Lord of the Lost,           SB, Jan, 30,   8:00, PM, Jan, 30,   8:45, PM
Blood Red Throne,           SB, Jan, 30,  10:15, PM, Jan, 30,  11:00, PM
Serenity,                   SB, Jan, 31,  12:15, AM, Jan, 31,   1:00, AM
Monstrosity,                SB, Jan, 31,   2:00, AM, Jan, 31,   2:45, AM
Endseeker,                  SB, Jan, 31,   4:15, AM, Jan, 31,   5:00, AM
Graceless,           SL, Jan, 30, 1:45, PM, Jan, 30, 2:30, PM
Iotunn,              SL, Jan, 30, 3:15, PM, Jan, 30, 4:00, PM
Shores of Null,      SL, Jan, 30, 5:15, PM, Jan, 30, 6:00, PM
Decembre Noir,       SL, Jan, 30, 7:15, PM, Jan, 30, 8:00, PM
Edenbridge,          SL, Jan, 30, 9:00, PM, Jan, 30, 9:45, PM
Fleshcrawl,          SL, Jan, 30,11:15, PM, Jan, 30,12:00, AM
Inhuman Condition,   SL, Jan, 31, 1:15, AM, Jan, 31, 2:00, AM
    </script>
    <script id='scheduleDay3' type='text'>
Warkings,           PD, Jan, 31,  5:00, PM, Jan, 31,  5:45, PM
Katklysm,           PD, Jan, 31,  6:30, PM, Jan, 31,  7:30, PM
Grave Digger,       PD, Jan, 31,  8:30, PM, Jan, 31,  9:30, PM
Blind Guardian,     PD, Jan, 31, 10:30, PM, Jan, 31, 11:45, PM
Batushka,           PD, Feb, 1,  12:30, AM, Feb, 1,  1:30, AM
Equilibrium,        PD, Feb, 1,  2:15, AM, Feb, 1,  3:00, AM
Aborted,            PD, Feb, 1,  3:45, AM, Feb, 1,  4:30, AM
Crypta,             PD, Feb, 1,  5:15, AM, Feb, 1,  6:00, AM
Temperance,         RT, Jan, 31,  5:45, PM, Jan, 31,  6:30, PM
Omnium Gatherum,    RT, Jan, 31,  7:30, PM, Jan, 31, 8:30, PM
Unleashed,          RT, Jan, 31,  9:30, PM, Jan, 31, 10:30, PM
Heidevolk,          RT, Jan, 31,  11:45, PM, Feb, 1, 12:30, AM
Nervosa,            RT, Feb, 1,  1:30, AM, Feb, 1,  2:15, AM
Blood Red Throne,   RT, Feb, 1,  3:00, AM, Feb, 1,  3:45, AM
Skyforger,          SB, Jan, 31,  5:00, PM, Jan, 31,  5:45, PM
Nanowar of Steel,   SB, Jan, 31,  6:45, PM, Jan, 31,  7:30, PM
SAOR,               SB, Jan, 31,  8:30, PM, Jan, 31, 9:15, PM
Decembre Noir,      SB, Jan, 31,  10:15, PM, Jan, 31, 11:00, PM
Scar Symmetry,      SB, Jan, 31,  11:45, PM, Feb, 1,  12:30, AM
Leaves' Eyes,       SB, Feb, 1,  1:30, AM, Feb, 1,  2:15, AM
Iotunn,             SB, Feb, 1,  3:00, AM, Feb, 1,  3:45, AM
Infected Rain,      SB, Feb, 1,  4:30, AM, Feb, 1,  5:15, AM
Endseeker,          SL, Jan, 31,  5:45, PM, Jan, 31,  6:30, PM
Vision Divine,      SL, Jan, 31,  7:30, PM, Jan, 31,  8:15, PM
Dalriada,           SL, Jan, 31,  9:15, PM, Jan, 31, 10:00, PM
Monstrosity,        SL, Jan, 31, 11:00, PM, Jan, 31, 11:45, PM
April Art,          SL, Feb, 1,  12:45, AM, Feb, 1,   1:30, AM
Rising Steel,       SL, Feb, 1,   2:15, AM, Feb, 1,   3:00, AM
Noturnall,          SL, Feb, 1,   3:45, AM, Feb, 1,   4:30, AM
    </script>
    <script id='scheduleDay4' type='text'>
Lord of the Lost,    PD, Feb, 1, 10:00, AM, Feb, 1, 10:45, AM
Einherjer,           PD, Feb, 1, 11:30, AM, Feb, 1, 12:15, AM
Belly Flop Solarium, PD, Feb, 1, 12:15, PM, Feb, 1,  1:15, PM
Serenity,            PD, Feb, 1,  1:15, PM, Feb, 1,  2:00, PM
Waltari,             PD, Feb, 1,  2:45, PM, Feb, 1,  3:30, PM
Dynazty,             PD, Feb, 1,  4:15, PM, Feb, 1,  5:30, PM
Fleshgod Apocalypse, PD, Feb, 1,  5:45, PM, Feb, 1,  6:30, PM
Halo Effect,         PD, Feb, 1,  7:30, PM, Feb, 1,  8:30, PM
Katatonia,           PD, Feb, 1,  9:30, PM, Feb, 1, 10:30, PM
Angra,               PD, Feb, 1, 11:45, PM, Feb, 2,  1:00, AM
Skipper's TY,        PD, Feb, 2,  1:00, AM, Feb, 2,  1:30, AM
Karaoke Solarium,    PD, Feb, 2,  1:30, AM, Feb, 2,  4:00, AM
Fleshcrawl,          RT, Feb, 1, 10:45, AM, Feb, 1, 11:30, AM
Edenbridge,          RT, Feb, 1, 12:15, PM, Feb, 1,  1:00, PM
All Star Jam,        RT, Feb, 1,  2:30, PM, Feb, 1,  4:00, PM
Wind Rose,           RT, Feb, 1,  5:00, PM, Feb, 1,  5:45, PM
My Dying Bride,      RT, Feb, 1,  6:30, PM, Feb, 1,  7:30, PM
Sodom,               RT, Feb, 1,  8:30, PM, Feb, 1,  9:30, PM
Epica,               RT, Feb, 1, 10:30, PM, Feb, 1, 11:45, PM
Left-ovr,            SB, Feb, 1, 10:45, PM, Feb, 1, 11:30, PM
ACOD,                SB, Feb, 1, 12:15, PM, Feb, 1,  1:00, PM
Graceless,           SB, Feb, 1,  1:45, PM, Feb, 1,  2:30, PM
Lich King,           SB, Feb, 1,  3:30, PM, Feb, 1,  4:15, PM
Threshold,           SB, Feb, 1,  5:00, PM, Feb, 1,  5:45, PM
Tygers of Pan Tang,  SB, Feb, 1,  6:45, PM, Feb, 1,  7:30, PM
Before the Dawn,     SB, Feb, 1,  8:15, PM, Feb, 1,  9:00, PM
Inhuman Condition,   SB, Feb, 1,  9:45, PM, Feb, 1, 10:30, PM
Shores of Null,      SB, Feb, 1, 11:45, PM, Feb, 2, 12:30, AM
Wolfheart,           SB, Feb, 2,  1:30, AM, Feb, 2,  2:15, AM
Victory,             SL, Feb, 1, 11:30, AM, Feb, 1, 12:15, PM
Avulsed,             SL, Feb, 1,  1:00, PM, Feb, 1,  1:45, PM
Pentagram Chile,     SL, Feb, 1,  2:45, PM, Feb, 1,  3:30, PM
Carnation,           SL, Feb, 1,  4:15, PM, Feb, 1,  5:00, PM
Disillusion,         SL, Feb, 1,  5:45, PM, Feb, 1,  6:30, PM
Mystic Prophecy,     SL, Feb, 1,  7:30, PM, Feb, 1,  8:15, PM
Arion,               SL, Feb, 1,  9:00, PM, Feb, 1,  9:45, PM
I am the Night,      SL, Feb, 1, 10:45, PM, Feb, 1, 11:30, PM
    </script>

    <script type="text/javascript">
        let allEvents = [];
        let year = 2024;
        var storedVersion = "_v2";

        var storedGoingKey = "storedGoingKey" + year + storedVersion;

        var colorGoingUndecided = "white";
        var colorGoingMaybe = "yellow";
        var colorGoingGoing = "lime";
        var colorGoingNotGoing = "coral";
        var goingUndecided = "Undecided";
        var goingMaybe = "Maybe";
        var goingGoing = "Going";
        var goingNotGoing = "Not going";

        //TODO bunch of common code with index.html
        function getDateTime(year, month, day, time, AMPM) {

            var dateString = day + " " + month + " " + year + " " + time + ":00" + " " + AMPM;

            var date = new Date(Date.parse(dateString));
            return date;
        }

        function primeData() {

            for (var dayIndex = 1; dayIndex <= 4; dayIndex++) {
                var currentEvents = document.getElementById('scheduleDay' + dayIndex).innerHTML;
                var eventsSplit = currentEvents.split("\n");

                var earliestStart = getDateTime("2100", "Jan", "1", "1:00", "AM");
                var latestEnd = getDateTime("2000", "Jan", "1", "1:00", "AM");
                var earliestEvent;
                var latestEvent;
                for (let i = 0; i < eventsSplit.length; i++) {

                    if (!eventsSplit[i] || eventsSplit[i].trim() == "") {
                        continue;
                    }
                    var eventWithDay = eventsSplit[i] + "," + dayIndex;
                    var event = getEventFromCommas(eventWithDay);


                    allEvents.push(event);

                }

            }

            allEvents = allEvents.sort((a, b) => {
                if (a.name > b.name) {
                    return 1;
                } else if (a.name < b.name) {
                    return -1;
                } else {
                    if (a.day > b.day) {
                        return 1;
                    }
                    else if (a.day < b.day) {
                        return -1;
                    }
                    else {
                        if (a.location > b.location) {
                            return 1;
                        }
                        else if (a.location < b.location) {
                            return -1;
                        }
                        else {
                            return 0;
                        }
                    }
                }

            });

        }

        function getGoingKey(event) {
            return event.id + storedGoingKey;
        }

        function getEventFromCommas(eventWithDay) {
            var eventSplit = eventWithDay.split(",");
            Object.keys(eventSplit).forEach(k => eventSplit[k] = eventSplit[k].trim());
            var event = {
                name: eventSplit[0],
                location: eventSplit[1],
                startMonth: eventSplit[2],
                startDay: eventSplit[3],
                startTime: eventSplit[4],
                startAMPM: eventSplit[5],
                endMonth: eventSplit[6],
                endDay: eventSplit[7],
                endTime: eventSplit[8],
                endAMPM: eventSplit[9],
                day: eventSplit[10],
                id: ""
            };
            event.id = getCommaStringFromEvent(event);
            return event;
        }
        function getCommaStringFromEvent(event) {
            return event.name + "," + event.location + "," + event.startMonth + "," + event.startDay + "," +
                event.startTime + "," + event.startAMPM + "," + event.endMonth + "," + event.endDay + "," +
                event.endTime + "," + event.endAMPM + "," + event.day;
        }

        function drawAlpha() {
            primeData();
            var topDiv = document.getElementById('topDiv');

            topDiv.style.height = (window.innerHeight - 200) + "px";
            labelWidth = Math.floor((window.innerWidth - 55) / 4) + "px";


            for (let i = 0; i < allEvents.length; i++) {
                event = allEvents[i];
                var label = document.createElement("textarea");
                //label.style.backgroundColor = 'lightgrey';
                label.style.width = labelWidth;
                label.style.height = "250px";
                label.style.fontSize = "30px";
                var goingInd = localStorage.getItem(getGoingKey(event));
                if (goingInd == null) {
                    goingInd = "Undecided";
                }
                var goingColor = getGoingColor(event);
                label.style.backgroundColor = goingColor;
                
                label.innerHTML = event.name + "\nDay " + event.day + "\n" + event.startTime + event.startAMPM +
                    "-" + event.endTime + event.endAMPM + "\n" + goingInd;
                topDiv.appendChild(label);
            }

        }

        function getGoingColor(event) {
            var goingInd = localStorage.getItem(getGoingKey(event));

            if (goingInd == null || goingInd == goingUndecided) {
                return colorGoingUndecided;
            }
            else if (goingInd == goingGoing) {
                return colorGoingGoing;
            }
            else if (goingInd == goingNotGoing) {
                return colorGoingNotGoing;
            }
            else if (goingInd == goingMaybe) {
                return colorGoingMaybe;
            }
            else {
                console.log("ERROR WITH GET GOING COLOR");
                return "black";
            }

            return
        }

        function bottomButton() {
            window.location.assign("./index.html");
        }

    </script>

</head>

<body onload="drawAlpha();">

    <div id="topDiv" style="overflow:scroll; height:500px;">
    </div>

    <div id="bottomDiv">
        <button type="button" onclick="bottomButton()" id="bottomButton" class="button"
            style="background-color:hotpink;">Time</button>
    </div>

</body>

</html>
